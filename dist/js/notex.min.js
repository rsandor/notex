!function e(r,t,n){function o(i,c){if(!t[i]){if(!r[i]){var s="function"==typeof require&&require;if(!c&&s)return s(i,!0);if(a)return a(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var l=t[i]={exports:{}};r[i][0].call(l.exports,function(e){var t=r[i][1][e];return o(t?t:e)},l,l.exports,e,r,t,n)}return t[i].exports}for(var a="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(e,r){"use strict";var t=e("./lib/notex.js"),n=e("101/exists");n(window)?window.notex=t:n(r)&&(r.exports=t)},{"./lib/notex.js":3,"101/exists":6}],2:[function(e,r){function t(e,r){for(var t="",n=0;r>n;n++)t+="  ";console.log(t+e)}function n(e){return a.run(e)}var o=e("./traversal"),a=o().type("root",function(e,r,n){t("Root",n),r.each(e.list)}).type("group",function(e,r,n){t("Group",n),r.each(e.list)}).type("paren",function(e,r,n){t("Paren",n),r.each(e.list)}).type("superscript",function(e,r,n){t("Superscript",n),r(e.expr)}).type("subscript",function(e,r,n){t("Subscript",n),r(e.expr)}).type("frac",function(e,r,n){t("Frac",n),t("  Numerator",n),r.each(e.numerator,n+1),t("  Denominator:",n),r.each(e.denominator,n+1)}).type("command",function(e,r,n){t("Command = "+e.name,n)}).type("id",function(e,r,n){t("Identifier = "+e.name,n)}).type("operator",function(e,r,n){t("Operator = "+e.name,n)}).type("number",function(e,r,n){t("Number = "+e.number,n)});r.exports=n},{"./traversal":5}],3:[function(e,r){"use strict";function t(e){var r=a(e);return n(r),r}var n=e("./logger"),o=e("./parser"),a=(e("./traversal"),o.parse);r.exports={render:t}},{"./logger":2,"./parser":4,"./traversal":5}],4:[function(e,r){r.exports=function(){function e(e,r){function t(){this.constructor=e}t.prototype=r.prototype,e.prototype=new t}function r(e,r,t,n,o,a){this.message=e,this.expected=r,this.found=t,this.offset=n,this.line=o,this.column=a,this.name="SyntaxError"}function t(e){function t(r){function t(r,t,n){var o,a;for(o=t;n>o;o++)a=e.charAt(o),"\n"===a?(r.seenCR||r.line++,r.column=1,r.seenCR=!1):"\r"===a||"\u2028"===a||"\u2029"===a?(r.line++,r.column=1,r.seenCR=!0):(r.column++,r.seenCR=!1)}return mr!==r&&(mr>r&&(mr=0,gr={line:1,column:1,seenCR:!1}),t(gr,mr,r),mr=r),gr}function n(e){vr>hr||(hr>vr&&(vr=hr,xr=[]),xr.push(e))}function o(n,o,a){function i(e){var r=1;for(e.sort(function(e,r){return e.description<r.description?-1:e.description>r.description?1:0});r<e.length;)e[r-1]===e[r]?e.splice(r,1):r++}function c(e,r){function t(e){function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+r(e)}).replace(/[\u0180-\u0FFF]/g,function(e){return"\\u0"+r(e)}).replace(/[\u1080-\uFFFF]/g,function(e){return"\\u"+r(e)})}var n,o,a,i=new Array(e.length);for(a=0;a<e.length;a++)i[a]=e[a].description;return n=e.length>1?i.slice(0,-1).join(", ")+" or "+i[e.length-1]:i[0],o=r?'"'+t(r)+'"':"end of input","Expected "+n+" but "+o+" found."}var s=t(a),u=a<e.length?e.charAt(a):null;return null!==o&&i(o),new r(null!==n?n:c(o,u),o,u,a,s.line,s.column)}function a(){var e,r;return e=hr,r=i(),r!==g&&(yr=e,r=A(r)),e=r}function i(){var e,r,t,o,a,i,s;if(Ar++,e=hr,r=h(),r!==g)if(t=c(),t!==g){for(o=[],a=hr,i=h(),i!==g?(s=c(),s!==g?(i=[i,s],a=i):(hr=a,a=C)):(hr=a,a=C);a!==g;)o.push(a),a=hr,i=h(),i!==g?(s=c(),s!==g?(i=[i,s],a=i):(hr=a,a=C)):(hr=a,a=C);o!==g?(a=h(),a!==g?(yr=e,r=w(t,o),e=r):(hr=e,e=C)):(hr=e,e=C)}else hr=e,e=C;else hr=e,e=C;return Ar--,e===g&&(r=g,0===Ar&&n(b)),e}function c(){var r,t,o,a,y,m,v,x,A,b,w,B,G,J,T;return Ar++,r=hr,123===e.charCodeAt(hr)?(t=R,hr++):(t=g,0===Ar&&n(F)),t!==g?(o=h(),o!==g?(a=i(),a!==g?(y=h(),y!==g?(125===e.charCodeAt(hr)?(m=_,hr++):(m=g,0===Ar&&n(S)),m!==g?(yr=r,t=k(a),r=t):(hr=r,r=C)):(hr=r,r=C)):(hr=r,r=C)):(hr=r,r=C)):(hr=r,r=C),r===g&&(r=hr,t=h(),t!==g?(40===e.charCodeAt(hr)?(o=z,hr++):(o=g,0===Ar&&n(H)),o!==g?(a=h(),a!==g?(y=i(),y!==g?(m=h(),m!==g?(41===e.charCodeAt(hr)?(v=M,hr++):(v=g,0===Ar&&n(N)),v!==g?(x=h(),x!==g?(yr=r,t=$(y),r=t):(hr=r,r=C)):(hr=r,r=C)):(hr=r,r=C)):(hr=r,r=C)):(hr=r,r=C)):(hr=r,r=C)):(hr=r,r=C),r===g&&(r=hr,t=h(),t!==g?(o=u(),o!==g?(a=h(),a!==g?(y=c(),y!==g?(yr=r,t=O(y),r=t):(hr=r,r=C)):(hr=r,r=C)):(hr=r,r=C)):(hr=r,r=C),r===g&&(r=hr,t=h(),t!==g?(o=l(),o!==g?(a=h(),a!==g?(y=c(),y!==g?(yr=r,t=Z(y),r=t):(hr=r,r=C)):(hr=r,r=C)):(hr=r,r=C)):(hr=r,r=C),r===g&&(r=hr,t=s(),t!==g?(e.substr(hr,4)===j?(o=j,hr+=4):(o=g,0===Ar&&n(L)),o!==g?(a=h(),a!==g?(123===e.charCodeAt(hr)?(y=R,hr++):(y=g,0===Ar&&n(F)),y!==g?(m=h(),m!==g?(v=i(),v!==g?(x=h(),x!==g?(125===e.charCodeAt(hr)?(A=_,hr++):(A=g,0===Ar&&n(S)),A!==g?(b=h(),b!==g?(123===e.charCodeAt(hr)?(w=R,hr++):(w=g,0===Ar&&n(F)),w!==g?(B=h(),B!==g?(G=i(),G!==g?(J=h(),J!==g?(125===e.charCodeAt(hr)?(T=_,hr++):(T=g,0===Ar&&n(S)),T!==g?(yr=r,t=q(v,G),r=t):(hr=r,r=C)):(hr=r,r=C)):(hr=r,r=C)):(hr=r,r=C)):(hr=r,r=C)):(hr=r,r=C)):(hr=r,r=C)):(hr=r,r=C)):(hr=r,r=C)):(hr=r,r=C)):(hr=r,r=C)):(hr=r,r=C)):(hr=r,r=C)):(hr=r,r=C),r===g&&(r=hr,t=s(),t!==g?(o=p(),o!==g?(yr=r,t=D(o),r=t):(hr=r,r=C)):(hr=r,r=C),r===g&&(r=hr,t=p(),t!==g&&(yr=r,t=I(t)),r=t,r===g&&(r=hr,t=f(),t!==g&&(yr=r,t=U(t)),r=t,r===g&&(r=hr,t=d(),t!==g&&(yr=r,t=P(t)),r=t)))))))),Ar--,r===g&&(t=g,0===Ar&&n(E)),r}function s(){var r,t;return Ar++,92===e.charCodeAt(hr)?(r=G,hr++):(r=g,0===Ar&&n(J)),Ar--,r===g&&(t=g,0===Ar&&n(B)),r}function u(){var r,t;return Ar++,94===e.charCodeAt(hr)?(r=W,hr++):(r=g,0===Ar&&n(K)),Ar--,r===g&&(t=g,0===Ar&&n(T)),r}function l(){var r,t;return Ar++,95===e.charCodeAt(hr)?(r=V,hr++):(r=g,0===Ar&&n(X)),Ar--,r===g&&(t=g,0===Ar&&n(Q)),r}function p(){var r,t,o,a,i,c;if(Ar++,r=hr,t=hr,o=hr,er.test(e.charAt(hr))?(a=e.charAt(hr),hr++):(a=g,0===Ar&&n(rr)),a!==g){for(i=[],tr.test(e.charAt(hr))?(c=e.charAt(hr),hr++):(c=g,0===Ar&&n(nr));c!==g;)i.push(c),tr.test(e.charAt(hr))?(c=e.charAt(hr),hr++):(c=g,0===Ar&&n(nr));i!==g?(a=[a,i],o=a):(hr=o,o=C)}else hr=o,o=C;return o!==g&&(o=e.substring(t,hr)),t=o,t!==g&&(yr=r,t=or(t)),r=t,Ar--,r===g&&(t=g,0===Ar&&n(Y)),r}function f(){var r,t;return Ar++,r=hr,ir.test(e.charAt(hr))?(t=e.charAt(hr),hr++):(t=g,0===Ar&&n(cr)),t!==g&&(t=e.substring(r,hr)),r=t,Ar--,r===g&&(t=g,0===Ar&&n(ar)),r}function d(){var r,t,o;if(Ar++,r=hr,t=[],ur.test(e.charAt(hr))?(o=e.charAt(hr),hr++):(o=g,0===Ar&&n(lr)),o!==g)for(;o!==g;)t.push(o),ur.test(e.charAt(hr))?(o=e.charAt(hr),hr++):(o=g,0===Ar&&n(lr));else t=C;return t!==g&&(t=e.substring(r,hr)),r=t,Ar--,r===g&&(t=g,0===Ar&&n(sr)),r}function h(){var r,t;for(Ar++,r=[],fr.test(e.charAt(hr))?(t=e.charAt(hr),hr++):(t=g,0===Ar&&n(dr));t!==g;)r.push(t),fr.test(e.charAt(hr))?(t=e.charAt(hr),hr++):(t=g,0===Ar&&n(dr));return Ar--,r===g&&(t=g,0===Ar&&n(pr)),r}var y,m=arguments.length>1?arguments[1]:{},g={},v={start:a},x=a,A=function(e){return{type:"root",list:e}},b={type:"other",description:"List of expressions"},C=g,w=function(e,r){return r=r.map(function(e){return e[1]}),r.unshift(e),r},E={type:"other",description:"Single expression"},R="{",F={type:"literal",value:"{",description:'"{"'},_="}",S={type:"literal",value:"}",description:'"}"'},k=function(e){return{type:"group",list:e}},z="(",H={type:"literal",value:"(",description:'"("'},M=")",N={type:"literal",value:")",description:'")"'},$=function(e){return{type:"paren",exprList:e}},O=function(e){return{type:"superscript",expr:e}},Z=function(e){return{type:"subscript",expr:e}},j="frac",L={type:"literal",value:"frac",description:'"frac"'},q=function(e,r){return{type:"frac",numerator:e,denominator:r}},D=function(e){return{type:"command",name:e}},I=function(e){return{type:"id",name:e}},U=function(e){return{type:"operator",name:e}},P=function(e){return{type:"number",number:e}},B={type:"other",description:"Escape character ''"},G="\\",J={type:"literal",value:"\\",description:'"\\\\"'},T={type:"other",description:"Superscript character '^'"},W="^",K={type:"literal",value:"^",description:'"^"'},Q={type:"other",description:"Subscript character '_'"},V="_",X={type:"literal",value:"_",description:'"_"'},Y={type:"other",description:"identifier"},er=/^[a-zA-Z]/,rr={type:"class",value:"[a-zA-Z]",description:"[a-zA-Z]"},tr=/^[a-zA-Z0-9]/,nr={type:"class",value:"[a-zA-Z0-9]",description:"[a-zA-Z0-9]"},or=function(e){return e.toString()},ar={type:"other",description:"operator"},ir=/^[`~!@#$%\^&*\-_=+\\|;:'",<.>\/?]/,cr={type:"class",value:"[`~!@#$%\\^&*\\-_=+\\\\|;:'\",<.>\\/?]",description:"[`~!@#$%\\^&*\\-_=+\\\\|;:'\",<.>\\/?]"},sr={type:"other",description:"decimal numbers"},ur=/^[0-9]/,lr={type:"class",value:"[0-9]",description:"[0-9]"},pr={type:"other",description:"optional whitespace"},fr=/^[ \t\r\n]/,dr={type:"class",value:"[ \\t\\r\\n]",description:"[ \\t\\r\\n]"},hr=0,yr=0,mr=0,gr={line:1,column:1,seenCR:!1},vr=0,xr=[],Ar=0;if("startRule"in m){if(!(m.startRule in v))throw new Error("Can't start parsing from rule \""+m.startRule+'".');x=v[m.startRule]}if(y=x(),y!==g&&hr===e.length)return y;throw y!==g&&hr<e.length&&n({type:"end",description:"end of input"}),o(null,xr,vr)}return e(r,Error),{SyntaxError:r,parse:t}}()},{}],5:[function(e,r){function t(){this.handlers={},this.defaultNodeHandler=function(){}}function n(e){var r=new t;return o(e)&&Array.isArray(e)&&e.forEach(function(e){r.addHelper(e)}),r}var o=e("101/exists"),a=e("debug"),i=a("notex:traversal:warning");t.prototype.addHandler=function(e,r,t){return o(this.handlers[e])||(this.handlers[e]={}),this.handlers[e][r]=t,this},t.prototype.defaultHandler=function(e){return this.defaultNodeHandler=e,this},t.prototype.addHelper=function(e){return o(traversal[e])?void i('Cannot create helper "'+e+'", method already exists.'):void(traversal[e]=function(r,t){return this.addHandler(e,r,t)})},t.prototype.type=function(e,r){return this.addHandler("type",e,r)},t.prototype._findHandler=function(e){var r=null;for(var t in this.handlers)if(e.hasOwnProperty(t)){var n=e[t];if(r=this.handlers[t][n],o(r))break}return r},t.prototype._makeRecur=function(e,r){var t=this,n=function(e,n){n||(n=r+1),t.run(e,n)};return n.each=function(e,t){t||(t=r+1),e.forEach(function(e){n(e,t)})},n},t.prototype.run=function(e,r){r||(r=0);var t=this._findHandler(e);if(o(t)){var n=this._makeRecur(e,r);return t.call(this,e,n,r)}},r.exports=n},{"101/exists":6,debug:7}],6:[function(e,r){function t(e){return void 0!==e&&null!==e}r.exports=t},{}],7:[function(e,r,t){function n(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return e;var n="color: "+this.color;e=[e[0],n,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,a=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(a=o))}),e.splice(a,0,n),e}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function i(e){try{null==e?u.removeItem("debug"):u.debug=e}catch(r){}}function c(){var e;try{e=u.debug}catch(r){}return e}function s(){try{return window.localStorage}catch(e){}}t=r.exports=e("./debug"),t.log=a,t.formatArgs=o,t.save=i,t.load=c,t.useColors=n;var u;u="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:s(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(c())},{"./debug":8}],8:[function(e,r,t){function n(){return t.colors[l++%t.colors.length]}function o(e){function r(){}function o(){var e=o,r=+new Date,a=r-(u||r);e.diff=a,e.prev=u,e.curr=r,u=r,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=n());var i=Array.prototype.slice.call(arguments);i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&(i=["%o"].concat(i));var c=0;i[0]=i[0].replace(/%([a-z%])/g,function(r,n){if("%%"===r)return r;c++;var o=t.formatters[n];if("function"==typeof o){var a=i[c];r=o.call(e,a),i.splice(c,1),c--}return r}),"function"==typeof t.formatArgs&&(i=t.formatArgs.apply(e,i));var s=o.log||t.log||console.log.bind(console);s.apply(e,i)}r.enabled=!1,o.enabled=!0;var a=t.enabled(e)?o:r;return a.namespace=e,a}function a(e){t.save(e);for(var r=(e||"").split(/[\s,]+/),n=r.length,o=0;n>o;o++)r[o]&&(e=r[o].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function i(){t.enable("")}function c(e){var r,n;for(r=0,n=t.skips.length;n>r;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;n>r;r++)if(t.names[r].test(e))return!0;return!1}function s(e){return e instanceof Error?e.stack||e.message:e}t=r.exports=o,t.coerce=s,t.disable=i,t.enable=a,t.enabled=c,t.humanize=e("ms"),t.names=[],t.skips=[],t.formatters={};var u,l=0},{ms:9}],9:[function(e,r){function t(e){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(r){var t=parseFloat(r[1]),n=(r[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*l;case"days":case"day":case"d":return t*u;case"hours":case"hour":case"hrs":case"hr":case"h":return t*s;case"minutes":case"minute":case"mins":case"min":case"m":return t*c;case"seconds":case"second":case"secs":case"sec":case"s":return t*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t}}}function n(e){return e>=u?Math.round(e/u)+"d":e>=s?Math.round(e/s)+"h":e>=c?Math.round(e/c)+"m":e>=i?Math.round(e/i)+"s":e+"ms"}function o(e){return a(e,u,"day")||a(e,s,"hour")||a(e,c,"minute")||a(e,i,"second")||e+" ms"}function a(e,r,t){return r>e?void 0:1.5*r>e?Math.floor(e/r)+" "+t:Math.ceil(e/r)+" "+t+"s"}var i=1e3,c=60*i,s=60*c,u=24*s,l=365.25*u;r.exports=function(e,r){return r=r||{},"string"==typeof e?t(e):r["long"]?o(e):n(e)}},{}]},{},[1]);